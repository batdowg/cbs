# sitemap.txt — routes and purpose

/                        – Unified login (front door)
/login                   – Alias to front door
/logout                  – Clear session

/home                    – Signed-in landing (Admin keeps overview; Delivery/Contractor/CRM-only redirect to /my-sessions)
/sessions                – Staff/CSA: list with filters
/sessions/new            – Create session (staff only)
/sessions/<id>           – Session detail (overview + tabs)
/workshops/<id>         – Workshop runner view (Delivery/Contractor; also used when a user has KT Facilitator among roles; Material only sessions redirect to /sessions/<id>)
/sessions/<id>/materials – Materials order for the session (inherits Shipping Location)
/sessions/<id>/materials/apply-defaults – Apply Workshop-Type defaults to Material Items
/sessions/<id>/participants – Add/edit/CSV import participants
/my-sessions             – Facilitators/CRM/CSA: sessions relevant to them (Delivery/Contractor click-through opens Workshop view; CRM-only scoped to client CRM owner)
/my-certificates         – Learner portal: download own PDFs
/profile                 – Learner profile (full name, certificate name)
/my-resources            – Learner portal: grouped resources by Workshop Type

# Settings (Admin/SysAdmin)
/settings                – Landing (cards/links)
  /settings/users        – Manage staff accounts & roles
  /settings/cert-templates – Certificate template series and mappings (PDFs, badge filenames, bulk uploads)
    /settings/cert-templates/<series_id>/upload-pdfs – Upload certificate template PDFs
    /settings/cert-templates/<series_id>/upload-badges – Upload badge WEBPs
  /settings/workshop-types – CRUD workshop types
  /workshop-types/<id>/defaults – legacy; redirects to /workshop-types/<id>/edit#defaults
  /workshop-types/defaults/<id>/delete – delete a Workshop-Type default material row
  /settings/clients      – Clients list
  /settings/clients/<id>/edit
      – Manage client, CRM, region
      – Client Workshop Locations (inline table + add/edit)
      – Client Shipping Locations (inline table + add/edit)
  /settings/materials    – Materials Options (by order_type; languages, formats)
  /settings/languages    – Languages list (active, sort)
  /mail-settings         – SMTP configuration, processors mapping, test send
  /settings/resources    – Manage resources (name, type, link/file, workshop types)

# Badges & cert files
/badges/<filename>       – Static badge image from /srv/badges or app/assets/badges
/certificates/<...>.pdf  – Static certificate PDFs from /srv/certificates

# Auth helpers
/forgot-password         – Request reset
/reset-password          – Reset with token

# Health & misc
/healthz                 – JSON “ok”
