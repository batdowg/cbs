{% extends 'base.html' %}
{% block title %}My Profile{% endblock %}
{% block content %}
<h1>My Profile</h1>
{% if is_staff and has_participant %}
<p>A learner profile also exists for this email.
  <form method="post" style="display:inline">
    <input type="hidden" name="form" value="sync">
    <button type="submit">Sync names</button>
  </form>
</p>
{% endif %}
<form method="post">
  <input type="hidden" name="form" value="profile">
  <div><label>Email <input type="text" value="{{ email }}" readonly></label></div>
  <div><label>Full name <input type="text" name="full_name" value="{{ full_name }}" maxlength="200" autocomplete="off"></label></div>
  {% if is_staff %}
  <div><label>Title <input type="text" name="title" value="{{ title }}" maxlength="255" autocomplete="off"></label></div>
  {% endif %}
  {% if not is_staff %}
  <div><label>Certificate Name <input type="text" name="certificate_name" value="{{ certificate_name }}" maxlength="200" autocomplete="off"></label></div>
  {% endif %}
  <div><label>Language
    <select name="preferred_language">
      {% for code in ['en','es','fr','de','ja','zh'] %}
      <option value="{{ code }}" {% if preferred_language==code %}selected{% endif %}>{{ code }}</option>
      {% endfor %}
    </select>
  </label></div>
  <button type="submit">Save</button>
</form>
<h2 id="password">Change Password</h2>
<form method="post">
  <input type="hidden" name="form" value="password">
  <div><label>New password <input type="password" name="password" autocomplete="new-password"></label></div>
  <div><label>Confirm <input type="password" name="password_confirm" autocomplete="new-password"></label></div>
  <button type="submit">Change Password</button>
</form>
{% endblock %}
