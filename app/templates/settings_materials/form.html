{% extends 'base.html' %}
{% block title %}{{ label }} Materials{% endblock %}
{% block content %}
<h1>{{ label }} Materials</h1>
<form method="post" data-dirty-guard="true">
  <div>Title:
    <input type="text" name="title" value="{{ opt.title if opt else '' }}" maxlength="160">
  </div>
  <div>Languages:
    <select name="language_ids" multiple>
      {% for lang in languages %}
        <option value="{{ lang.id }}" {% if opt and lang in opt.languages %}selected{% endif %}>{{ lang.name }}</option>
      {% endfor %}
    </select>
  </div>
  <div>Formats:
    {% for fmt in format_choices %}
      <label><input type="checkbox" name="formats" value="{{ fmt }}" {% if opt and fmt in opt.formats %}checked{% endif %}>{{ fmt }}</label>
    {% endfor %}
  </div>
  <div>Quantity basis:
    <select name="quantity_basis">
      <option value="Per learner" {% if not opt or opt.quantity_basis=='Per learner' %}selected{% endif %}>Per learner</option>
      <option value="Per order" {% if opt and opt.quantity_basis=='Per order' %}selected{% endif %}>Per order</option>
    </select>
  </div>
  {% if opt %}
  <div>Status:
    <input type="checkbox" name="is_active" value="1" {% if opt.is_active %}checked{% endif %}>
  </div>
  {% endif %}
  <button type="submit">Save</button>
</form>
{% endblock %}
